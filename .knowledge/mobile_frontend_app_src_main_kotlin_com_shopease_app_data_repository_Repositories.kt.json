{"is_source_file": true, "format": "Kotlin", "description": "This file contains Kotlin classes and objects implementing repositories for an e-commerce app, including authentication, product, cart, and order management, as well as a service locator for dependency injection.", "external_files": ["com.shopease.app.data.network.ApiService", "com.shopease.app.data.local.AuthStorage", "com.shopease.app.data.model.*", "com.shopease.app.data.network.NetworkModule"], "external_methods": ["ApiService.login", "ApiService.signup", "ApiService.getProducts", "ApiService.getProductDetail", "ApiService.placeOrder", "ApiService.getOrders", "AuthStorage.setSession", "AuthStorage.token", "AuthStorage.clear"], "published": ["AuthRepository", "ProductRepository", "CartRepository", "OrderRepository", "ServiceLocator"], "classes": [{"name": "AuthRepository", "description": "Handles user login/signup and token storage interactions with network API and local storage."}, {"name": "ProductRepository", "description": "Fetches product lists and individual product details from the API."}, {"name": "CartRepository", "description": "Manages in-memory cart state, allowing adding, removing, and clearing products."}, {"name": "OrderRepository", "description": "Handles order placement and retrieval via network API, utilizing authentication tokens."}, {"name": "ServiceLocator", "description": "Manages dependencies and provides singleton instances of repositories and network services."}], "methods": [{"name": "login", "description": "Performs user login via API, storing session data."}, {"name": "signup", "description": "Performs user signup via API, storing session data."}, {"name": "token", "description": "Provides a Flow emitting the current auth token."}, {"name": "logout", "description": "Clears the stored authentication session."}, {"name": "getProducts", "description": "Retrieves list of products from API, optionally filtered by query."}, {"name": "getProductDetail", "description": "Retrieves detailed information for a specific product by ID."}, {"name": "cartItems", "description": "Provides a Flow of current cart items."}, {"name": "add", "description": "Adds a product to the cart, increasing quantity if already present."}, {"name": "remove", "description": "Removes a product from the cart, decreasing quantity or removing item."}, {"name": "clear", "description": "Clears all items from the cart."}, {"name": "placeOrder", "description": "Places an order via API using current auth token."}, {"name": "orders", "description": "Fetches list of past orders from API."}, {"name": "init", "description": "Initializes singleton services and repositories, acting as dependency injection container."}], "calls": ["ApiService.login", "ApiService.signup", "ApiService.getProducts", "ApiService.getProductDetail", "ApiService.placeOrder", "ApiService.getOrders", "AuthStorage.setSession", "AuthStorage.token", "AuthStorage.clear", "NetworkModule.provideApiService"], "search-terms": ["AuthRepository", "ProductRepository", "CartRepository", "OrderRepository", "ServiceLocator", "In-memory cart", "API service repository", "Token management", "Order placement", "Dependency injection"], "state": 2, "file_id": 15, "knowledge_revision": 41, "git_revision": "", "hash": "250633fa905b1cc2f6b6c81a83ec0151", "format-version": 4, "code-base-name": "mobile_frontend", "filename": "mobile_frontend/app/src/main/kotlin/com/shopease/app/data/repository/Repositories.kt", "revision_history": [{"41": ""}]}